<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
	"http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">

<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
<head>
	<meta http-equiv="Content-Type" content="text/html; charset=utf-8"/>

	<title>Ding: Shutdown Handler Helper</title>
	
	<style type="text/css">
		body {
  		margin-top: 1.0em;
  		background-color: #f49648;
		  font-family: "Helvetica,Arial,FreeSans";
  		color: #000000;
    }
    #container {
      margin: 0 auto;
      width: 700px;
    }
		h1 { font-size: 3.8em; color: #0b69b7; margin-bottom: 3px; }
		h1 .small { font-size: 0.4em; }
		h1 a { text-decoration: none }
		h2 { font-size: 1.5em; color: #0b69b7; }
    h3 { color: #0b69b7; }
    a { color: #0b69b7; }
    .description { font-size: 1.2em; margin-bottom: 30px; margin-top: 30px; font-style: italic;}
    .download { float: right; }
		pre { background: #000; color: #fff; padding: 15px;}
    hr { border: 0; width: 80%; border-bottom: 1px solid #aaa}
    .footer { text-align:center; padding-top:30px; font-style: italic; }
	</style>
	
</head>

<body>

<H1><u>The ShutdownHandlerHelper</u></H1>
This helper is used as a shutdown handler by using register_shutdown_function(). 

<H3>Class</H3>
Ding\Helpers\ShutdownHandler\ShutdownHandlerHelper

<H3>Driver</H3>
Ding\Bean\Factory\Driver\ShutdownHandlerDriver

<H3>Annotations</H3>
Class level annotation @ShutdownHandler

<H3>Description</H3>
<p>
PHP will call the callback registered with register_shutdown_function().
The property "shutdownHandler" of the bean, is a reference to your
own bean (whose class definition must implement Ding\Helpers\ShutdownHandler\IShutdownHandlerDriver).
</p>
<p>
The driver is the one responsible for getting an
optional bean from the container, named "ShutdownHandler", that should be of class
"Ding\Helpers\ShutdownHandlerHelper". If this bean exists, it will be set as the
shutdown handler. The helper will in turn, call the handler set via the "shutdownHandler"
property. This driver registers at AfterConfig in the Container lifecycle.


<H3>Example</H3>
<ul>
  <li><a href="https://github.com/marcelog/Ding/tree/master/docs/examples/ShutdownHandler">docs/examples/ShutdownHandler</a>: Using the xml driver.</li>
  <li><a href="https://github.com/marcelog/Ding/tree/master/docs/examples/ShutdownHandler/annotated">docs/examples/ShutdownHandler/annotated</a>: Using the annotation driver.</li>
</ul>
